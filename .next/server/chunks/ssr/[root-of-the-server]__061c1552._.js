module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},99570,11011,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70121),e=Symbol.for("react.lazy"),f=c[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}function h(a){var e;let h,i=(e=a,(h=c.forwardRef((a,b)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),c.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==c.Fragment&&(j.ref=b?(0,d.composeRefs)(b,g):g),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null})).displayName=`${e}.SlotClone`,h),j=c.forwardRef((a,d)=>{let{children:e,...h}=a;g(e)&&"function"==typeof f&&(e=f(e._payload));let j=c.Children.toArray(e),l=j.find(k);if(l){let a=l.props.children,e=j.map(b=>b!==l?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(i,{...h,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(i,{...h,ref:d,children:e})});return j.displayName=`${a}.Slot`,j}var i=h("Slot"),j=Symbol("radix.slottable");function k(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}a.s(["Slot",()=>i,"createSlot",()=>h],11011);var l=a.i(187),m=a.i(68114);let n=(0,l.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},g)=>(0,b.jsx)(e?i:"button",{className:(0,m.cn)(n({variant:c,size:d,className:a})),ref:g,...f}));o.displayName="Button",a.s(["Button",()=>o,"buttonVariants",()=>n],99570)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},7827,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},53722,a=>{"use strict";let b=(0,a.i(70106).default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},83077,a=>{"use strict";let b=(0,a.i(70106).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],83077)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},76472,a=>{"use strict";let b=(0,a.i(70106).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],76472)},46864,a=>{"use strict";let b=(0,a.i(70106).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);a.s(["UserCheck",()=>b],46864)},86447,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(91119),g=a.i(72233),h=a.i(74167),i=a.i(11642),j=a.i(210),k=a.i(76472),l=a.i(45222);let m=(0,a.i(70106).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a.i(46864),o=a.i(10738),p=a.i(45209),q=a.i(23292);a.s(["default",0,()=>{let a=(0,d.useParams)().userId,{user:r}=(0,i.useAuth)(),s=(0,d.useRouter)(),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)("none"),[B,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(D(),E(),F())},[a,r]);let D=async()=>{try{let{data:b,error:c}=await h.supabase.from("profiles").select("*").eq("id",a).single();if(c)throw c;u(b)}catch(a){console.error("Error fetching profile:",a)}},E=async()=>{try{let{data:b,error:c}=await h.supabase.from("posts").select("*").eq("user_id",a).order("created_at",{ascending:!1});if(c)throw c;w(b||[])}catch(a){console.error("Error fetching posts:",a)}finally{y(!1)}},F=async()=>{if(!r||!a)return;let{data:b,error:c}=await h.supabase.from("friend_requests").select("*").or(`sender_id.eq.${r.id},receiver_id.eq.${r.id}`).or(`sender_id.eq.${a},receiver_id.eq.${a}`).maybeSingle();b?(C(b.id),"accepted"===b.status?A("friends"):"pending"===b.status?A(b.sender_id===r.id?"pending_sent":"pending_received"):A("none")):(A("none"),C(null))},G=async()=>{if(r&&a)try{let{error:b}=await h.supabase.from("friend_requests").insert({sender_id:r.id,receiver_id:a});if(b)throw b;q.toast.success("Friend request sent!"),F()}catch(a){console.error("Error sending friend request:",a),q.toast.error("Failed to send request")}},H=async()=>{if(B)try{await h.supabase.from("friend_requests").update({status:"accepted"}).eq("id",B),await h.supabase.from("follows").insert([{follower_id:r?.id,following_id:a},{follower_id:a,following_id:r?.id}]),q.toast.success("Friend request accepted!"),F()}catch(a){console.error("Error accepting request:",a),q.toast.error("Failed to accept request")}},I=async()=>{if(B)try{await h.supabase.from("friend_requests").delete().eq("id",B),q.toast.success("Request cancelled"),F()}catch(a){console.error("Error cancelling request:",a),q.toast.error("Failed to cancel request")}};return x?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):t?(0,b.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,b.jsx)(p.default,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 p-8 overflow-y-auto h-screen",children:[(0,b.jsxs)(e.Button,{variant:"ghost",className:"w-fit mb-6",onClick:()=>s.back(),children:[(0,b.jsx)(j.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[(0,b.jsx)(f.Card,{className:"border-border/40",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,b.jsxs)(g.Avatar,{className:"w-32 h-32 border-4 border-accent/20",children:[(0,b.jsx)(g.AvatarImage,{src:t.avatar_url}),(0,b.jsx)(g.AvatarFallback,{className:"text-4xl",children:t.full_name?.charAt(0)||"U"})]}),(0,b.jsxs)("div",{className:"flex-1 text-center md:text-left space-y-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:t.full_name}),(0,b.jsx)("div",{className:"flex items-center justify-center md:justify-start gap-4 pt-2",children:r&&r.id!==a&&(0,b.jsxs)(b.Fragment,{children:["none"===z&&(0,b.jsxs)(e.Button,{onClick:G,className:"gradient-primary",children:[(0,b.jsx)(m,{className:"w-4 h-4 mr-2"}),"Add Friend"]}),"pending_sent"===z&&(0,b.jsxs)(e.Button,{variant:"outline",onClick:I,children:[(0,b.jsx)(n.UserCheck,{className:"w-4 h-4 mr-2"}),"Request Sent"]}),"pending_received"===z&&(0,b.jsxs)(e.Button,{onClick:H,className:"gradient-primary",children:[(0,b.jsx)(n.UserCheck,{className:"w-4 h-4 mr-2"}),"Accept Request"]}),"friends"===z&&(0,b.jsxs)(e.Button,{variant:"outline",className:"border-green-500 text-green-500 hover:text-green-600",children:[(0,b.jsx)(n.UserCheck,{className:"w-4 h-4 mr-2"}),"Friends"]}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>s.push(`/messages?userId=${a}`),children:[(0,b.jsx)(l.MessageCircle,{className:"w-4 h-4 mr-2"}),"Message"]})]})})]})]})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Posts"}),(0,b.jsx)("div",{className:"space-y-4",children:0===v.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground bg-card/50 rounded-xl border border-border/40",children:"No posts yet."}):v.map(a=>(0,b.jsx)(f.Card,{className:"border-border/40",children:(0,b.jsxs)(f.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,o.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0})})}),(0,b.jsx)("p",{className:"text-foreground mb-4 whitespace-pre-wrap",children:a.content}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-muted-foreground text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Heart,{className:"w-4 h-4"})," ",a.likes_count]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.MessageCircle,{className:"w-4 h-4"})," ",a.comments_count]})]})]})},a.id))})]})]})]})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"User not found"})}],86447)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__061c1552._.js.map