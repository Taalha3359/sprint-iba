module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},99570,11011,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70121),e=Symbol.for("react.lazy"),f=c[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}function h(a){var e;let h,i=(e=a,(h=c.forwardRef((a,b)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),c.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==c.Fragment&&(j.ref=b?(0,d.composeRefs)(b,g):g),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null})).displayName=`${e}.SlotClone`,h),j=c.forwardRef((a,d)=>{let{children:e,...h}=a;g(e)&&"function"==typeof f&&(e=f(e._payload));let j=c.Children.toArray(e),l=j.find(k);if(l){let a=l.props.children,e=j.map(b=>b!==l?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(i,{...h,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(i,{...h,ref:d,children:e})});return j.displayName=`${a}.Slot`,j}var i=h("Slot"),j=Symbol("radix.slottable");function k(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}a.s(["Slot",()=>i,"createSlot",()=>h],11011);var l=a.i(187),m=a.i(68114);let n=(0,l.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},g)=>(0,b.jsx)(e?i:"button",{className:(0,m.cn)(n({variant:c,size:d,className:a})),ref:g,...f}));o.displayName="Button",a.s(["Button",()=>o,"buttonVariants",()=>n],99570)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},7827,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},53722,a=>{"use strict";let b=(0,a.i(70106).default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},83077,a=>{"use strict";let b=(0,a.i(70106).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],83077)},76472,a=>{"use strict";let b=(0,a.i(70106).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],76472)},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},20005,a=>{"use strict";let b=(0,a.i(70106).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>b],20005)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],63519)},1027,a=>{"use strict";let b=(0,a.i(70106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(187),h=a.i(68114);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],70430)},21850,48475,a=>{"use strict";var b=a.i(72131),c=a.i(74167),d=a.i(11642);let e=[{id:1,name:"The Rookie",description:"You've stepped onto the track. Time to lace up.",vpThreshold:0,track:"WARM_UP",trackColor:"#3dd5d1",badgeImageUrl:"/assets/badges/rookie.png"},{id:2,name:"The Stretcher",description:"Warming up the mental muscles.",vpThreshold:1500,track:"WARM_UP",trackColor:"#14b8a6",badgeImageUrl:"/assets/badges/stretcher.png"},{id:3,name:"The Jogger",description:"Finding a steady rhythm in your studies.",vpThreshold:5e3,track:"WARM_UP",trackColor:"#0891b2",badgeImageUrl:"/assets/badges/jogger.png"},{id:4,name:"The Pacer",description:"You are hitting consistent targets. Keep this tempo!",vpThreshold:15e3,track:"PICKING_UP_PACE",trackColor:"#c0c0c0",badgeImageUrl:"/assets/badges/pacer.png"},{id:5,name:"The Strider",description:"Covering more ground with every session.",vpThreshold:35e3,track:"PICKING_UP_PACE",trackColor:"#4169e1",badgeImageUrl:"/assets/badges/strider.svg"},{id:6,name:"The Hurdler",description:"Obstacles don't stop you; you jump right over them.",vpThreshold:75e3,track:"PICKING_UP_PACE",trackColor:"#1e90ff",badgeImageUrl:"/assets/badges/hurdler.svg"},{id:7,name:"The Sprinter",description:"Full speed ahead. You are a serious contender.",vpThreshold:15e4,track:"FAST_LANE",trackColor:"#ffd700",badgeImageUrl:"/assets/badges/sprinter.svg"},{id:8,name:"The Velocity Master",description:"You are moving faster than the competition.",vpThreshold:3e5,track:"FAST_LANE",trackColor:"#ff8c00",badgeImageUrl:"/assets/badges/velocity_master.svg"},{id:9,name:"The Mach 1",description:"Breaking personal records every day. Supersonic mental speed.",vpThreshold:55e4,track:"FAST_LANE",trackColor:"#ff4500",badgeImageUrl:"/assets/badges/mach1.png"},{id:10,name:"The Olympian",description:"You are in the top tier of aspirants. Elite performance.",vpThreshold:1e6,track:"PODIUM",trackColor:"#e5e4e2",badgeImageUrl:"/assets/badges/olympian.svg"},{id:11,name:"The Record Breaker",description:"You aren't just participating; you are redefining the standard.",vpThreshold:2e6,track:"PODIUM",trackColor:"#9d00ff",badgeImageUrl:"/assets/badges/record_breaker.svg"},{id:12,name:"The IBA Titan",description:"The finish line is yours. You are ready to conquer the admission test.",vpThreshold:4e6,track:"PODIUM",trackColor:"#b9f2ff",badgeImageUrl:"/assets/badges/iba_titan.svg"}];function f(a){return e.find(b=>b.id===a)}function g(a){for(let b=e.length-1;b>=0;b--)if(a>=e[b].vpThreshold)return e[b];return e[0]}function h(a){return e.find(b=>b.id===a+1)||null}function i(a,b){let c=f(b),d=h(b);return c&&d?Math.min(100,Math.max(0,(a-c.vpThreshold)/(d.vpThreshold-c.vpThreshold)*100)):100}function j(a,b){let c=h(b);return c?Math.max(0,c.vpThreshold-a):0}a.s(["LEVELS",0,e,"TRACK_THEMES",0,{WARM_UP:{primary:"#3dd5d1",secondary:"#14b8a6",accent:"#0891b2",gradient:"linear-gradient(135deg, #3dd5d1 0%, #14b8a6 100%)",name:"The Warm-Up"},PICKING_UP_PACE:{primary:"#c0c0c0",secondary:"#4169e1",accent:"#1e90ff",gradient:"linear-gradient(135deg, #c0c0c0 0%, #1e90ff 100%)",name:"Picking Up Pace"},FAST_LANE:{primary:"#ffd700",secondary:"#ff8c00",accent:"#ff4500",gradient:"linear-gradient(135deg, #ffd700 0%, #ff4500 100%)",name:"The Fast Lane"},PODIUM:{primary:"#e5e4e2",secondary:"#9d00ff",accent:"#b9f2ff",gradient:"linear-gradient(135deg, #e5e4e2 0%, #9d00ff 50%, #b9f2ff 100%)",name:"The Podium Finish"}},"calculateLevel",()=>g,"calculateProgressToNextLevel",()=>i,"getLevelById",()=>f,"getNextLevel",()=>h,"getVpUntilNextLevel",()=>j],48475);var k=a.i(23292);function l(){let{user:a}=(0,d.useAuth)(),[e,h]=(0,b.useState)({totalVp:0,currentLevel:f(1),userLevel:null,loading:!0,error:null}),[i,j]=(0,b.useState)(!1),[l,m]=(0,b.useState)(null),n=(0,b.useCallback)(async()=>{if(!a)return void h(a=>({...a,loading:!1}));try{let{data:b,error:d}=await c.supabase.from("user_levels").select("*").eq("user_id",a.id).single();if(d){if("PGRST116"===d.code){let{data:b,error:d}=await c.supabase.from("user_levels").insert({user_id:a.id,current_level:1,total_vp:0}).select().single();if(d)throw d;h({totalVp:0,currentLevel:f(1),userLevel:b,loading:!1,error:null});return}throw d}let e=f(b.current_level)||f(1);h({totalVp:b.total_vp,currentLevel:e,userLevel:b,loading:!1,error:null})}catch(a){console.error("Error fetching velocity points:",a),h(b=>({...b,loading:!1,error:a}))}},[a]),o=(0,b.useCallback)(async({amount:b,reason:d,questionId:f,metadata:h})=>{if(!a)return!1;try{let{error:i}=await c.supabase.from("velocity_points").insert({user_id:a.id,amount:b,reason:d,question_id:f,metadata:h});if(i)throw i;let l=e.totalVp+b,o=g(l),p=o.id>e.currentLevel.id,{error:q}=await c.supabase.from("user_levels").update({total_vp:l,current_level:o.id,last_level_up_at:p?new Date().toISOString():void 0}).eq("user_id",a.id);if(q)throw q;if(p){let{error:b}=await c.supabase.from("badge_achievements").insert({user_id:a.id,level_id:o.id});b&&"23505"!==b.code&&console.error("Error unlocking badge:",b),m(o),j(!0),k.toast.success(`Level Up! You've reached ${o.name}!`,{description:o.description,duration:5e3})}return await n(),!0}catch(a){return console.error("Error awarding VP:",a),k.toast.error("Failed to award Velocity Points"),!1}},[a,e.totalVp,e.currentLevel,n]),p=(0,b.useCallback)(()=>{j(!1),m(null)},[]);return(0,b.useEffect)(()=>{if(!a)return;let b=c.supabase.channel("velocity-points-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_levels",filter:`user_id=eq.${a.id}`},()=>{n()}).subscribe();return()=>{c.supabase.removeChannel(b)}},[a,n]),(0,b.useEffect)(()=>{n()},[n]),{...e,awardVP:o,refetch:n,showLevelUpAnimation:i,levelUpData:l,closeLevelUpAnimation:p}}a.s(["useVelocityPoints",()=>l],21850)},80294,a=>{"use strict";var b=a.i(87924),c=a.i(48475),d=a.i(68114);let e={sm:"w-12 h-12 text-xs",md:"w-16 h-16 text-sm",lg:"w-24 h-24 text-base",xl:"w-32 h-32 text-lg"};function f({level:a,size:f="md",showName:g=!1,className:h,locked:i=!1}){let j=c.TRACK_THEMES[a.track];return(0,b.jsxs)("div",{className:(0,d.cn)("flex flex-col items-center gap-2",h),children:[(0,b.jsxs)("div",{className:(0,d.cn)("relative flex items-center justify-center transition-all duration-300",e[f],i?"opacity-40 grayscale":"hover:scale-110"),children:[(0,b.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.badgeImageUrl&&!i?(0,b.jsx)("img",{src:a.badgeImageUrl,alt:a.name,className:"w-3/4 h-3/4 object-contain",onError:a=>{a.currentTarget.style.display="none",a.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,(0,b.jsx)("span",{className:(0,d.cn)("font-bold text-white",a.badgeImageUrl&&!i?"hidden":""),children:i?"ðŸ”’":a.id})]}),!i&&("FAST_LANE"===a.track||"PODIUM"===a.track)&&(0,b.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-full pointer-events-none",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"absolute h-0.5 bg-white/30 animate-speed-line",style:{top:`${30+20*c}%`,width:"60%",left:"-60%",animationDelay:`${.15*c}s`}},c))}),!i&&"PODIUM"===a.track&&(0,b.jsx)("div",{className:"absolute inset-0 rounded-full animate-pulse",style:{background:`radial-gradient(circle, ${j.accent}40 0%, transparent 70%)`}})]}),g&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:(0,d.cn)("font-bold",i?"text-muted-foreground":"gradient-text"),children:a.name}),!i&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description})]})]})}a.s(["default",()=>f])},50724,a=>{"use strict";function b(a){return a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString()}function c(a){return a.toLocaleString("en-US")}a.s(["formatVPFull",()=>c,"formatVPShort",()=>b])},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},70298,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11642),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(91119),i=a.i(72233),j=a.i(74167),k=a.i(23292),l=a.i(45209),m=a.i(48475),n=a.i(80294),o=a.i(70106);let p=(0,o.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function q({currentLevelId:a,className:c}){let d=m.LEVELS.filter(a=>"WARM_UP"===a.track),e=m.LEVELS.filter(a=>"PICKING_UP_PACE"===a.track),f=m.LEVELS.filter(a=>"FAST_LANE"===a.track),g=m.LEVELS.filter(a=>"PODIUM"===a.track),i=(c,d,e)=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",style:{color:e},children:c}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-4",children:d.map(c=>{let d=a>=c.id;return(0,b.jsxs)("div",{className:"relative flex flex-col items-center p-4 rounded-lg border border-border/40 transition-all duration-300 hover:shadow-lg",style:{background:d?`linear-gradient(135deg, ${e}10 0%, transparent 100%)`:"transparent"},children:[(0,b.jsx)(n.default,{level:c,size:"lg",locked:!d}),(0,b.jsx)("p",{className:"text-sm font-semibold mt-2 text-center",children:c.name}),!d&&(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(p,{className:"w-4 h-4 text-muted-foreground"})})]},c.id)})})]});return(0,b.jsxs)(h.Card,{className:c,children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Badge Collection"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Unlock badges by reaching new levels. You've unlocked ",a," of 12 badges!"]})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-8",children:[i("Track 1: The Warm-Up",d,"#cd7f32"),i("Track 2: Picking Up Pace",e,"#4169e1"),i("Track 3: The Fast Lane",f,"#ffd700"),i("Track 4: The Podium Finish",g,"#9d00ff")]})]})}var r=a.i(21850),s=a.i(50724),t=a.i(46842);let u=(0,o.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),v=(0,o.default)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);var w=a.i(41675),x=a.i(63519),y=a.i(20005),z=a.i(76472),A=a.i(45222),B=a.i(81560),C=a.i(83077),D=a.i(1027),E=a.i(10738),F=a.i(50944);a.s(["default",0,()=>{let{user:a,signOut:m}=(0,d.useAuth)(),n=(0,F.useRouter)(),{totalVp:o,currentLevel:p,loading:G}=(0,r.useVelocityPoints)(),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!0);(0,c.useEffect)(()=>{a&&(Z(),$())},[a]);let Z=async()=>{if(a)try{let{data:b,error:c}=await j.supabase.from("profiles").select("*").eq("id",a.id).single();b&&(M(b.full_name||a.user_metadata?.full_name||""),U(b.avatar_url||a.user_metadata?.avatar_url||"")),O(a.user_metadata?.college||""),Q(a.user_metadata?.hsc_year||""),S(a.user_metadata?.phone||"")}catch(a){console.error("Error fetching profile:",a)}},$=async()=>{if(a)try{let{data:b,error:c}=await j.supabase.from("posts").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(c)throw c;W(b||[])}catch(a){console.error("Error fetching user posts:",a)}finally{Y(!1)}},_=async b=>{b.preventDefault(),I(!0);try{let{error:b}=await j.supabase.auth.updateUser({data:{full_name:L,college:N,hsc_year:P,phone:R,avatar_url:T}});if(b)throw b;let{error:c}=await j.supabase.from("profiles").update({full_name:L,avatar_url:T}).eq("id",a?.id);if(c)throw c;k.toast.success("Profile updated successfully!"),K(!1)}catch(a){k.toast.error(a.message||"Failed to update profile")}finally{I(!1)}},aa=async a=>{if(confirm("Are you sure you want to delete this post?"))try{let{error:b}=await j.supabase.from("posts").delete().eq("id",a);if(b)throw b;k.toast.success("Post deleted"),W(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Error deleting post:",a),k.toast.error("Failed to delete post")}},ab=async()=>{await m(),n.push("/auth")};return(0,b.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,b.jsx)(l.default,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 p-8 overflow-y-auto h-screen",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Student Profile"}),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[(0,b.jsxs)(h.Card,{className:"border-border/40",children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsx)(h.CardTitle,{children:"Personal Information"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"destructive",size:"sm",onClick:ab,children:[(0,b.jsx)(y.LogOut,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),(0,b.jsx)(e.Button,{variant:J?"ghost":"outline",size:"sm",onClick:()=>K(!J),children:J?"Cancel":"Edit Profile"})]})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 mb-6",children:[(0,b.jsxs)(i.Avatar,{className:"w-24 h-24 border-4 border-accent/20",children:[(0,b.jsx)(i.AvatarImage,{src:T}),(0,b.jsx)(i.AvatarFallback,{className:"text-2xl",children:L?.charAt(0)||"S"})]}),J&&(0,b.jsxs)("div",{className:"w-full max-w-xs",children:[(0,b.jsx)(g.Label,{htmlFor:"avatar",className:"text-xs text-muted-foreground mb-1 block",children:"Profile Picture URL"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)(f.Input,{id:"avatar",value:T,onChange:a=>U(a.target.value),placeholder:"https://example.com/avatar.jpg"})})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"name",className:"flex items-center gap-2",children:[(0,b.jsx)(t.User,{className:"w-4 h-4 text-muted-foreground"}),"Full Name"]}),(0,b.jsx)(f.Input,{id:"name",value:L,onChange:a=>M(a.target.value),disabled:!J})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"email",className:"flex items-center gap-2",children:[(0,b.jsx)(u,{className:"w-4 h-4 text-muted-foreground"}),"Email"]}),(0,b.jsx)(f.Input,{id:"email",value:a?.email||"",disabled:!0,className:"bg-muted/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"college",className:"flex items-center gap-2",children:[(0,b.jsx)(v,{className:"w-4 h-4 text-muted-foreground"}),"College Name"]}),(0,b.jsx)(f.Input,{id:"college",value:N,onChange:a=>O(a.target.value),disabled:!J,placeholder:"e.g. Dhaka College"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"hsc",className:"flex items-center gap-2",children:[(0,b.jsx)(w.Calendar,{className:"w-4 h-4 text-muted-foreground"}),"HSC Year"]}),(0,b.jsx)(f.Input,{id:"hsc",value:P,onChange:a=>Q(a.target.value),disabled:!J,placeholder:"e.g. 2024"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"phone",className:"flex items-center gap-2",children:[(0,b.jsx)(x.Phone,{className:"w-4 h-4 text-muted-foreground"}),"Phone Number"]}),(0,b.jsx)(f.Input,{id:"phone",value:R,onChange:a=>S(a.target.value),disabled:!J,placeholder:"e.g. 017..."})]})]}),J&&(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)(e.Button,{type:"submit",className:"gradient-primary",disabled:H,children:H?"Saving...":"Save Changes"})})]})})]}),!G&&(0,b.jsxs)(h.Card,{className:"border-border/40",children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Trophy,{className:"w-5 h-5 text-accent"}),"Your Progress"]})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Level"}),(0,b.jsx)("p",{className:"text-2xl font-bold gradient-text",children:p.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(D.Zap,{className:"w-4 h-4"}),"Total Velocity Points"]}),(0,b.jsx)("p",{className:"text-2xl font-bold gradient-text",children:(0,s.formatVPFull)(o)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep sprinting!"})]})]})})]}),!G&&(0,b.jsx)(q,{currentLevelId:p.id}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"My Posts"}),(0,b.jsx)("div",{className:"space-y-4",children:X?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading posts..."}):0===V.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground bg-card/50 rounded-xl border border-border/40",children:"You haven't posted anything yet."}):V.map(a=>(0,b.jsx)(h.Card,{className:"border-border/40",children:(0,b.jsxs)(h.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,E.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>aa(a.id),className:"text-destructive hover:text-destructive/90 h-8 w-8",children:(0,b.jsx)(B.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsx)("p",{className:"text-foreground mb-4 whitespace-pre-wrap",children:a.content}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-muted-foreground text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(z.Heart,{className:"w-4 h-4"})," ",a.likes_count]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(A.MessageCircle,{className:"w-4 h-4"})," ",a.comments_count]})]})]})},a.id))})]})]})]})]})}],70298)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__48303ad9._.js.map